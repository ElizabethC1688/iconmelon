(function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};define("views/pages/editr",["views/pages/PageView","views/EditCollectionView","models/SectionModel","collections/SectionsCollection","collectionViews/SectionsCollectionLineView"],function(e,n,r,i,s){var o,u;return o=function(e){function o(){return u=o.__super__.constructor.apply(this,arguments),u}return t(o,e),o.prototype.template="#editr-page-template",o.prototype.render=function(){return o.__super__.render.apply(this,arguments),this.renderEditCollectionView(),this.renderCollectionsLine(),this},o.prototype.renderCollectionsLine=function(){var e=this;return this.collectionLine=new s({$el:this.$("#js-collection-line-place"),isRender:!0,collection:new i([])}),this.collectionLine.collection.url="sections-all",this.collectionLine.collection.fetch().then(function(){return e.showFirstModel()}).fail(function(e){return App.notifier.show({type:"error",text:"np, sorry"})}),this.collectionLine.collection.onSelect=function(t){return e.renderEditCollectionView(t)},this.collectionLine.collection.on("remove",_.bind(this.showFirstModel,this))},o.prototype.showFirstModel=function(){var e;return this.renderEditCollectionView((e=this.collectionLine.collection.at(0))!=null?e.set("isSelected",!0):void 0)},o.prototype.renderEditCollectionView=function(e){var t;return(t=this.editCollectionView)!=null&&t.teardown(),this.editCollectionView=new n({$el:this.$("#js-edit-collection-view-place"),isRender:!0,model:e||new r,mode:"edit"})},o}(e),o})}).call(this);