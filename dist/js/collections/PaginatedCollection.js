(function(){var e=this,t={}.hasOwnProperty,n=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e};define("collections/PaginatedCollection",["backbone"],function(e){var t,r;return t=function(e){function t(){return r=t.__super__.constructor.apply(this,arguments),r}return n(t,e),t.prototype.page=1,t.prototype.perPage=2,t.prototype.initialize=function(){return this.options={page:this.page,perPage:this.perPage,total:10},this.o.isPaginated&&(this.fetch=this.fetchFun),this.o.isPaginated&&(this.parse=this.parseFun),t.__super__.initialize.apply(this,arguments),this},t.prototype.fetchFun=function(e){return this.loadFromFile=(e!=null?e.sectionNames:void 0)?!0:!1,Backbone.Collection.prototype.fetch.call(this,{data:$.extend(this.options,e||{})})},t.prototype.parseFun=function(e){return e.total&&(this.options.total=e.total),e.models},t.prototype.pageInfo=function(){var e,t;return e={total:this.options.total,page:this.options.page,perPage:this.options.perPage,pages:Math.ceil(this.options.total/this.options.perPage),prev:!1,next:!1},t=Math.min(this.options.total,this.options.page*this.options.perPage),this.options.total===this.options.pages*this.options.perPage&&(t=this.options.total),e.range=[(this.options.page-1)*this.options.perPage+1,t],this.options.page>1&&(e.prev=this.options.page-1),this.options.page<e.pages&&(e.next=this.options.page+1),e},t.prototype.nextPage=function(){var e=this;return this.loadFromFile&&this.clearSelectedIcons(),this.pageInfo().next?(this.options.page++,this.fetch().then(function(){return e.trigger("afterFetch")})):!1},t.prototype.prevPage=function(){var e=this;return this.pageInfo().prev?(this.options.page--,this.fetch().then(function(){return e.trigger("afterFetch")})):!1},t.prototype.loadPage=function(e){var t=this;return e===this.options.page?!1:(this.options.page=e,this.fetch().then(function(){return t.trigger("afterFetch")}))},t.prototype.clearSelectedIcons=function(){return App.vent.trigger("icon:deselect")},t}(e.Collection),t})}).call(this);